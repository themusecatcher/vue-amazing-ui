import{p as l,v as b,$ as E,x as N,h as y,a8 as h,q as L,a3 as T}from"./framework.Bxd4U3f9.js";function z(t=Date.now(),n="YYYY-MM-DD HH:mm:ss"){try{let e;if(typeof t=="number"||typeof t=="string"){if(e=new Date(t),isNaN(e.getTime()))throw new Error("Invalid date")}else e=t;const r=(s,o=2)=>String(s).padStart(o,"0"),a=s=>{switch(s){case"YYYY":return r(e.getFullYear());case"YY":return r(e.getFullYear()).slice(2,4);case"MM":return r(e.getMonth()+1);case"M":return String(e.getMonth()+1);case"DD":return r(e.getDate());case"D":return String(e.getDate());case"HH":return r(e.getHours());case"H":return String(e.getHours());case"mm":return r(e.getMinutes());case"m":return String(e.getMinutes());case"ss":return r(e.getSeconds());case"s":return String(e.getSeconds());case"SSS":return r(e.getMilliseconds(),3);default:return s}};return n.replace(/(YYYY|YY|M{1,2}|D{1,2}|H{1,2}|m{1,2}|s{1,2}|SSS)/g,a)}catch(e){return console.error("Error formatting date:",e),""}}function $(t,n=2,e=",",r=".",a,s){typeof t!="number"&&typeof t!="string"&&console.warn("Expected value to be of type number or string"),typeof n!="number"&&console.warn("Expected precision to be of type number");const o=Number(t);if(isNaN(o)||!isFinite(o))return"";if(o===0)return o.toFixed(n);let c=o.toFixed(n);if(typeof e=="string"&&e!==""){const[v,d]=c.split(".");c=v.replace(/(\d)(?=(\d{3})+$)/g,"$1"+e)+(d?r+d:"")}return(a||"")+c+(s||"")}function B(t,n=0,e=!1){let r=null;function a(o){if(r||(r=o),o-r>=n){try{t()}catch(c){console.error("Error executing rafTimeout function:",c)}e&&(r=o,s.id=requestAnimationFrame(a))}else s.id=requestAnimationFrame(a)}const s={id:requestAnimationFrame(a)};return s}function Q(t){t&&t.id&&typeof t.id=="number"?cancelAnimationFrame(t.id):console.warn("cancelRaf received an invalid id:",t)}function I(t,n=300){let e=!0;return function(...r){if(!e)return!1;e&&(t(...r),e=!1,setTimeout(()=>{e=!0},n))}}function O(t,n=300){let e=null;return function(...r){e&&clearTimeout(e),e=setTimeout(()=>{t(...r)},n)}}function U(){const t=document.documentElement;t.classList.toggle("dark"),t.classList.contains("dark")?t.style.colorScheme="dark":t.style.colorScheme="light"}function R(){const t=l(!1),n=T();return n&&b(()=>{t.value=!0},n),t}function H(t){const n=R();return y(()=>(n.value,!!t()))}function V(t,n,e){b(()=>t.addEventListener(n,e)),N(()=>t.removeEventListener(n,e))}function W(t,n,e={}){const r=H(()=>window&&"MutationObserver"in window),a=l(!1);let s;const o=y(()=>{const i=h(t);return i?Array.isArray(i)?i.map(m=>h(m)).filter(m=>m):[i]:[]}),c=()=>{s&&(s.disconnect(),s=void 0)},v=()=>{r.value&&o.value.length&&!a.value&&(s=new MutationObserver(n),o.value.forEach(i=>s.observe(i,e)))};L(()=>o.value,()=>{c(),v()},{immediate:!0,flush:"post"});const d=()=>{a.value=!1,v()},g=()=>{a.value=!0,c()};return E(()=>c()),{start:d,stop:g}}function C(t=window,n=0,e,r){const a=l(0),s=l(0),o=l(0),c=l(0),v=l(!1),d=l(!1),g=l(!1),i=l(!1),m=l(!1),S=l(0),M=l(0);function D(u){v.value=!0;const f=u.target.documentElement??u.target;a.value=f.scrollLeft,o.value=f.scrollTop,d.value=a.value<S.value,g.value=a.value>S.value,i.value=o.value<M.value,m.value=o.value>M.value,S.value=a.value,M.value=o.value,Y(u),e&&e(u)}const F=I(D,n);function q(u){v.value&&(v.value=!1,d.value=!1,g.value=!1,i.value=!1,m.value=!1,r&&r(u))}const Y=O(q,n+200),x=y(()=>h(t)||null);L(()=>x.value,(u,f)=>{var w;if(f&&A(f),u){const p=((w=u==null?void 0:u.document)==null?void 0:w.documentElement)||(u==null?void 0:u.documentElement)||u;s.value=p.scrollWidth-p.clientWidth,c.value=p.scrollHeight-p.clientHeight,p.addEventListener("scroll",F),p.addEventListener("scrollend",Y)}},{immediate:!0,flush:"post"});function A(u){var w;const f=((w=u==null?void 0:u.document)==null?void 0:w.documentElement)||(u==null?void 0:u.documentElement)||u;f.removeEventListener("scroll",F),f.removeEventListener("scrollend",Y)}return E(()=>A(x.value)),{x:a,xScrollMax:s,y:o,yScrollMax:c,isScrolling:v,left:d,right:g,top:i,bottom:m}}function K(){const t=l(0),n=l(0);let e=performance.now();const r=10,a=s=>{if(n.value++,n.value>=r){const o=s-e;t.value=Math.round(1e3/(o/r)),e=s,n.value=0}requestAnimationFrame(a)};return requestAnimationFrame(a),{fps:t}}function P(t){if(t.trim()==="")throw new Error("Invalid mediaQuery parameter. It must be a non-empty string.");const n=l(window&&window.matchMedia(t).matches),e=window.matchMedia(t),r=a=>{n.value=a.matches};return b(()=>{e.addEventListener("change",r)}),E(()=>{e.removeEventListener("change",r)}),{match:n}}function X(t,n,e={}){const r=H(()=>window&&"ResizeObserver"in window);let a;const s=l(!1),o=y(()=>{const i=h(t);return i?Array.isArray(i)?i.map(m=>h(m)).filter(m=>m):[i]:[]}),c=()=>{a&&(a.disconnect(),a=void 0)},v=()=>{r.value&&o.value.length&&!s.value&&(a=new ResizeObserver(n),o.value.forEach(i=>a.observe(i,e)))};L(()=>o.value,()=>{c(),v()},{immediate:!0,flush:"post"});const d=()=>{s.value=!1,v()},g=()=>{s.value=!0,c()};return E(()=>c()),{start:d,stop:g}}function _(t){const n=l(!1);try{const e={get[t](){return n.value=!0,!1}};window.addEventListener("test",()=>null,e),window.removeEventListener("test",()=>null,e)}catch{n.value=!1}return{isSupported:n}}export{I as B,z as K,O as P,Q,$ as X,B as _,X as c,_ as f,K as l,U as n,W as o,V as r,C as s,P as u};
